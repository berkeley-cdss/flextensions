// datatables.net-buttons/js/buttons.colVis.min.js@3.2.3 downloaded from https://ga.jspm.io/npm:datatables.net-buttons@3.2.3/js/buttons.colVis.min.js

import*as n from"jquery";import*as t from"datatables.net";import*as i from"datatables.net-buttons";var o=n;try{"default"in n&&(o=n.default)}catch(n){}var e=t;try{"default"in t&&(e=t.default)}catch(n){}var l=i;try{"default"in i&&(l=i.default)}catch(n){}var u=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var c={};!function(n){var t,i;t=o,i=function(n,t){t.fn.dataTable||e(n,t),t.fn.dataTable.Buttons||l(n,t)},"undefined"==typeof window?c=function(o,e){return o=o||window,e=e||t(o),i(o,e),n(e,0,o.document)}:(i(window,t),c=n(t,window,window.document))}((function(n,t,i){var o=n.fn.dataTable;return n.extend(o.ext.buttons,{colvis:function(n,t){var i=null,o={extend:"collection",init:function(n,t){i=t},text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]};return n.on("column-reorder.dt"+t.namespace,(function(){n.button(null,n.button(null,i).node()).collectionRebuild([{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}])})),o},columnsToggle:function(n,t){return n.columns(t.columns).indexes().map((function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}})).toArray()},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){return n.columns(t.columns).indexes().map((function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}})).toArray()},columnVisibility:{columns:void 0,text:function(n,t,i){return i._columnText(n,i)},className:"buttons-columnVisibility",action:function(n,t,i,o){t=t.columns(o.columns);var e=t.visible();t.visible(void 0!==o.visibility?o.visibility:!(e.length&&e[0]))},init:function(n,t,i){var o=this||u,e=n.column(i.columns);t.attr("data-cv-idx",i.columns),n.on("column-visibility.dt"+i.namespace,(function(t,i,l,u){e.index()!==l||i.bDestroying||i.nTable!=n.settings()[0].nTable||o.active(u)})).on("column-reorder.dt"+i.namespace,(function(){i.destroying||1===n.columns(i.columns).count()&&(e=n.column(i.columns),o.text(i._columnText(n,i)),o.active(e.visible()))})),this.active(e.visible())},destroy:function(n,t,i){n.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(n,t){var i,e;return"string"==typeof t.text?t.text:(e=n.column(t.columns).title(),i=n.column(t.columns).index(),e=e.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select\s*>/gi,""),e=o.Buttons.stripHtmlComments(e),e=o.util.stripHtml(e).trim(),t.columnText?t.columnText(n,i,e):e)}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(n,t,i){n.columns().every((function(){var n=this.init();void 0===n.__visOriginal&&(n.__visOriginal=this.visible())}))},action:function(n,t,i,o){t.columns().every((function(n){var t=this.init();this.visible(t.__visOriginal)}))}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,i,o){t.columns(o.show).visible(!0,!1),t.columns(o.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),o}));var s=c;export{s as default};

